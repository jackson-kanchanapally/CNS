<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diffie-Hellman Key Exchange</title>
</head>
<body>
    <h1>Diffie-Hellman Key Exchange</h1>
    <label for="prime">Enter a prime number (p):</label>
    <input type="number" id="prime">
    <label for="base">Enter a primitive root (g):</label>
    <input type="number" id="base">
    <br><br>
    <label for="privateKeyAlice">Enter Alice's Private Key:</label>
    <input type="number" id="privateKeyAlice">
    <br><br>
    <label for="privateKeyBob">Enter Bob's Private Key:</label>
    <input type="number" id="privateKeyBob">
    <br><br>
    <button onclick="calculatePublicKeys()">Calculate Public Keys</button>
    <br><br>
    <p>Public Key for Alice: <span id="publicKeyAlice"></span></p>
    <p>Public Key for Bob: <span id="publicKeyBob"></span></p>
    <br><br>
    <button onclick="simulateKeyExchange()">Simulate Key Exchange</button>
    <br><br>
    <p>Shared Secret for Alice: <span id="sharedSecretAlice"></span></p>
    <p>Shared Secret for Bob: <span id="sharedSecretBob"></span></p>
    
    <script>
        function calculatePublicKeys() {
            var prime = parseInt(document.getElementById("prime").value);
            var base = parseInt(document.getElementById("base").value);
            var privateKeyAlice = parseInt(document.getElementById("privateKeyAlice").value);
            var privateKeyBob = parseInt(document.getElementById("privateKeyBob").value);
            
            var publicKeyAlice = Math.pow(base, privateKeyAlice) % prime;
            var publicKeyBob = Math.pow(base, privateKeyBob) % prime;
            
            document.getElementById("publicKeyAlice").textContent = publicKeyAlice;
            document.getElementById("publicKeyBob").textContent = publicKeyBob;
        }
        
        function simulateKeyExchange() {
            var prime = parseInt(document.getElementById("prime").value);
            var privateKeyAlice = parseInt(document.getElementById("privateKeyAlice").value);
            var publicKeyBob = parseInt(document.getElementById("publicKeyBob").textContent);
            
            var sharedSecretAlice = Math.pow(publicKeyBob, privateKeyAlice) % prime;
            document.getElementById("sharedSecretAlice").textContent = sharedSecretAlice;
            
            var publicKeyAlice = parseInt(document.getElementById("publicKeyAlice").textContent);
            var privateKeyBob = parseInt(document.getElementById("privateKeyBob").value);
            
            var sharedSecretBob = Math.pow(publicKeyAlice, privateKeyBob) % prime;
            document.getElementById("sharedSecretBob").textContent = sharedSecretBob;
        }
    </script>
</body>
</html>
